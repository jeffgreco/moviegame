// Daily Puzzle Data
// Each puzzle is a curated set of movies for a specific day

// Puzzle schedule - maps specific dates to puzzle IDs
// Generated by puzzle-builder
const PUZZLE_SCHEDULE = {
  "2026-01-10": "k7x2m",
  "2026-01-11": "p3n8v",
  "2026-01-12": "amnfm",
  "2026-01-13": "m4k7r",
  "2026-01-14": "qc9xe",
  "2026-01-15": "jgns2",
  "2026-01-16": "dhk7k",
  "2026-01-17": "g2h5y",
  "2026-01-18": "r5t1q",
  "2026-01-23": "qje3j",
  "2026-01-25": "ah7yk",
  "2026-01-26": "rvtak",
  "2026-01-27": "vrrqg",
  "2026-01-28": "pcpxv",
  "2026-01-29": "cytxv",
  "2026-01-30": "vc4j4",
  "2026-01-31": "sv8p5",
  "2026-02-01": "8bh3t",
  "2026-02-02": "26btz",
  "2026-02-03": "wmh3t",
  "2026-02-04": "kqq89",
  "2026-02-05": "4edeq",
  "2026-02-06": "wfq5e",
  "2026-02-07": "f6n6a"
};

const DAILY_PUZZLES = [
  {
    id: "w9j4h",
    theme: "Oscar Best Picture Winners",
    description: "Academy Award winners for Best Picture",
    movieIds: [
      597, 238, 13, 98, 274, 424, 1366, 510, 1422, 6977, 194662, 76203, 376867,
      74643, 399055, 776503, 792, 380, 581, 12162,
    ],
  },
  {
    id: "k7x2m",
    theme: "Manhunter",
    description: "Stylish crime dramas from the master of mood",
    emoji: "ðŸ”",
    movieIds: [
      949, 1538, 9361, 11322, 82, 8489, 9008, 11454, 11524, 365620, 201088,
      26198,
    ],
  },
  {
    id: "b2f6n",
    theme: "Spielberg, Scorsese & Coppola",
    description: "Movies from three legendary directors",
    movieIds: [
      578, 238, 329, 85, 601, 424, 103, 28, 769, 240, 857, 87, 89, 524, 840,
      1422, 879, 640, 873, 242, 6114, 180, 74, 11324, 106646, 227, 1598, 594,
      217, 57212, 333339, 839, 232, 11352, 7095,
    ],
  },
  {
    id: "r5t1q",
    theme: "Disney Animation Classics",
    description: "Beloved animated films from Disney and Pixar",
    emoji: "ðŸ°",
    movieIds: [
      8587, 109445, 12, 862, 10020, 812, 10144, 585, 14160, 10681, 38757,
      354912, 10674, 11970, 2062, 150540, 269149, 568124, 37135, 10530, 177572,
      82690, 11544, 11688, 10112, 11886,
    ],
  },
  {
    id: "p3n8v",
    theme: "War of the Worlds",
    description: "",
    movieIds: [
      74, 602, 329865, 2675, 75, 59678, 8337, 755898, 840, 7191, 5491, 137113,
      44943, 9397, 9348, 8974,
    ],
  },
  {
    id: "m4k7r",
    theme: "Natural Born Killers",
    description: "",
    movieIds: [
      274, 1949, 539, 1359, 504, 807, 320, 10279, 241, 71859, 12149, 768, 9740,
    ],
  },
  {
    id: "9nw35",
    theme: "test",
    description: "",
    movieIds: [
      2105, // American Pie (1999)
      37135, // Tarzan (1999)
      872585, // Oppenheimer (2023)
      2034,
      9778,
      374720, // Dunkirk (2017)
      27205, // Inception (2010)
      346698, // Barbie (2023),
      83533,
    ],
  },
  {
    id: "amnfm",
    theme: "Funny People",
    description: "",
    movieIds: [
      20829, // Funny People (Jul 31, 2009)
      10322, // Being There (Dec 19, 1979)
      489, // Good Will Hunting (Jan 9, 1998)
      38, // Eternal Sunshine of the Spotless Mind (Mar 19, 2004)
      873, // The Color Purple (Jan 16, 1987)
      153, // Lost in Translation (Sep 18, 2003)
      86555, // Take This Waltz (May 25, 2012)
      22318, // Permanent Midnight (Sep 16, 1998)
      1125, // Dreamgirls (Dec 25, 2006)
      87492, // Foxcatcher (Jan 16, 2015)
      17450, // Pennies from Heaven (Jan 1, 1982)
      25793, // Precious (Nov 20, 2009)
      64690, // Drive (Sep 16, 2011)
      1262, // Stranger Than Fiction (Nov 10, 2006)
      403, // Driving Miss Daisy (Jan 26, 1990)
      8051, // Punch-Drunk Love (Oct 25, 2002)
    ],
  },
  {
    id: "qc9xe",
    theme: "Ready Player One",
    description: "",
    movieIds: [
      333339, // Ready Player One (Mar 29, 2018)
      257344, // Pixels (Jul 24, 2015)
      980489, // Gran Turismo (Aug 25, 2023)
      97, // Tron (Jul 9, 1982)
      183, // The Wizard (Dec 15, 1989)
      22538, // Scott Pilgrim vs. the World (Aug 13, 2010)
      1946, // eXistenZ (Apr 19, 1999)
      82690, // Wreck-It Ralph (Nov 2, 2012)
      550988, // Free Guy (Aug 13, 2021)
      860, // WarGames (Jun 3, 1983)
      9900, // Grandma's Boy (Jan 6, 2006)
      325348, // Hardcore Henry (Apr 8, 2016)
      11884, // The Last Starfighter (Jul 13, 1984)
      18501, // Gamer (Sep 4, 2009)
    ],
  },
  {
    id: "jgns2",
    theme: "Speed",
    description: "",
    movieIds: [
      1637, // Speed (Jun 9, 1994)
      2119, // Days of Thunder (Jun 27, 1990)
      7459, // Speed Racer (May 9, 2008)
      9659, // Mad Max (May 2, 1980)
      13282, // Death Race 2000 (Apr 30, 1975)
      11286, // The Cannonball Run (Jun 19, 1981)
      911430, // F1 (Jun 27, 2025)
      5920, // Le Mans (Jun 23, 1971)
      916, // Bullitt (Oct 17, 1968)
      525, // The Blues Brothers (Jun 16, 1980)
      64690, // Drive (Sep 16, 2011)
    ],
  },
  {
    id: "dhk7k",
    theme: "Cats & Dogs",
    description: "",
    movieIds: [
      10992, // Cats & Dogs (Jul 4, 2001)
      9598, // Babe (Aug 4, 1995)
      448119, // Dolittle (Jan 17, 2020)
      9986, // Charlotte's Web (Dec 15, 2006)
      10137, // Stuart Little (Dec 17, 1999)
      912908, // Strays (Aug 18, 2023)
      411, // The Chronicles of Narnia: The Lion, the Witch and the Wardrobe (Dec 9, 2005)
      454626, // Sonic the Hedgehog (Feb 14, 2020)
      6878, // Homeward Bound: The Incredible Journey (Feb 12, 1993)
      20723, // That Darn Cat! (Dec 2, 1965)
      47951, // The Adventures of Milo and Otis (Aug 25, 1989)
      165013, // A Talking Cat!?! (Feb 18, 2013)
    ],
  },
  {
    id: "g2h5y",
    theme: "Minnesota",
    description: "",
    movieIds: [
      275, // Fargo (Apr 5, 1996)
      10223, // A Simple Plan (Jan 22, 1999)
      11520, // Grumpy Old Men (Dec 25, 1993)
      9279, // Jingle All the Way (Nov 22, 1996)
      31504, // Little Big League (Jun 29, 1994)
      10475, // Factotum (Aug 18, 2006)
      10414, // The Mighty Ducks (Oct 2, 1992)
      9701, // North Country (Sep 12, 2005)
      1183392, // Airport (Jan 1, 1981)
      14536, // New in Town (Jan 30, 2009)
      19994, // Jennifer's Body (Sep 18, 2009)
    ],
  },
  {
    id: "ah7yk",
    theme: "Any Given Sunday",
    description: "",
    emoji: "ðŸˆ",
    movieIds: [
      9563, // Any Given Sunday (Dec 22, 1999)
      13416, // Friday Night Lights (Oct 8, 2004)
      18047, // Brian's Song (Nov 30, 1971)
      10637, // Remember the Titans (Sep 29, 2000)
      22881, // The Blind Side (Nov 20, 2009)
      14534, // Rudy (Oct 13, 1993)
      4985, // The Longest Yard (Aug 21, 1974)
      11170, // We Are Marshall (Dec 12, 2006)
      10393, // The Replacements (Aug 11, 2000)
      14709, // Varsity Blues (Jan 15, 1999)
      4942, // Leatherheads (Mar 24, 2008)
      10663, // The Waterboy (Nov 6, 1998)
      20726, // Little Giants (Oct 14, 1994)
    ],
  },
  {
    id: "qje3j",
    theme: "The Perfect Storm",
    description: "",
    movieIds: [
      2133, // The Perfect Storm (Jun 30, 2000)
      664, // Twister (May 10, 1996)
      435, // The Day After Tomorrow (May 28, 2004)
      254128, // San Andreas (May 29, 2015)
      9619, // Dante's Peak (Feb 7, 1997)
      10357, // Volcano (Apr 25, 1997)
      503, // Poseidon (May 12, 2006)
      14161, // 2012 (Nov 13, 2009)
      80278, // The Impossible (Jan 4, 2013)
      11123, // Earthquake (Nov 15, 1974)
      551, // The Poseidon Adventure (Dec 13, 1972)
      524047, // Greenland (Dec 18, 2020)
      95, // Armageddon (Jul 1, 1998)
      8656, // Deep Impact (May 8, 1998)
      76649, // Pompeii (Feb 21, 2014)
      406759, // Moonfall (Feb 4, 2022)
      9341, // The Core (Mar 28, 2003)
      166680, // Avalanche (Sep 29, 1978)
      395991, // Only the Brave (Oct 20, 2017)
      86834, // Noah (Mar 28, 2014)
      205321, // Sharknado (Jul 11, 2013)
    ],
  },
  {
    id: "vrrqg",
    theme: "The American President",
    description: "",
    emoji: "ðŸ‡ºðŸ‡¸",
    movieIds: [
      9087, // The American President (Nov 17, 1995)
      72976, // Lincoln (Nov 16, 2012)
      87504, // Hyde Park on Hudson (Dec 7, 2012)
      820, // JFK (Dec 20, 1991)
      353575, // LBJ (Nov 3, 2017)
      10858, // Nixon (Dec 22, 1995)
      10523, // W. (Oct 17, 2008)
      11566, // Dave (May 7, 1993)
      9772, // Air Force One (Jul 25, 1997)
      17795, // My Fellow Americans (Dec 20, 1996)
      11499, // Frost/Nixon (Dec 5, 2008)
      16406, // Dick (Aug 4, 1999)
      301348, // Elvis & Nixon (Apr 22, 2016)
      9776, // Head of State (Mar 28, 2003)
      11973, // Thirteen Days (Dec 25, 2000)
      117251, // White House Down (Jun 28, 2013)
      117263, // Olympus Has Fallen (Mar 22, 2013)
      9440, // Primary Colors (Mar 20, 1998)
      72331, // Abraham Lincoln: Vampire Hunter (Jun 22, 2012)
    ],
  },
  {
    id: "rvtak",
    theme: "The Wrestler",
    description: "",
    emoji: "ðŸ¤¼",
    movieIds: [
      12163, // The Wrestler (Oct 12, 2008)
      19371, // Mr. Nanny (Oct 8, 1993)
      277834, // Moana (Nov 23, 2016)
      106, // Predator (Jun 12, 1987)
      8337, // They Live (Nov 4, 1988)
      2493, // The Princess Bride (Oct 9, 1987)
      557, // Spider-Man (May 3, 2002)
      118340, // Guardians of the Galaxy (Aug 1, 2014)
      463257, // The Peanut Butter Falcon (Aug 23, 2019)
      1850, // Man on the Moon (Dec 22, 1999)
      37931, // MacGruber (May 21, 2010)
      14636, // The Condemned (Apr 27, 2007)
      10007, // See No Evil (May 19, 2006)
      44946, // Knucklehead (Oct 22, 2010)
    ],
  },
  {
    id: "pcpxv",
    theme: "The Nic Cage Challenge",
    description: "",
    emoji: "ðŸŽ­",
    movieIds: [
      2757, // Adaptation. (Dec 6, 2002)
      9679, // Gone in Sixty Seconds (Jun 9, 2000)
      11699, // Bad Lieutenant: Port of Call - New Orleans (Dec 11, 2009)
      451, // Leaving Las Vegas (Oct 27, 1995)
      2059, // National Treasure (Nov 19, 2004)
      1830, // Lord of War (Sep 16, 2005)
      324857, // Spider-Man: Into the Spider-Verse (Dec 14, 2018)
      1701, // Con Air (Jun 6, 1997)
      754, // Face/Off (Jun 27, 1997)
      1250, // Ghost Rider (Feb 16, 2007)
      9708, // The Wicker Man (Sep 1, 2006)
      2039, // Moonstruck (Jan 15, 1988)
      9802, // The Rock (Jun 7, 1996)
      483, // Wild at Heart (Aug 17, 1990)
      5994, // The Family Man (Dec 12, 2000)
      378, // Raising Arizona (Apr 17, 1987)
      6637, // National Treasure: Book of Secrets (Dec 21, 2007)
      23483, // Kick-Ass (Apr 16, 2010)
      635731, // Pig (Jul 16, 2021)
      460885, // Mandy (Sep 13, 2018)
      8688, // Snake Eyes (Aug 7, 1998)
      10013, // Peggy Sue Got Married (Oct 10, 1986)
      8224, // 8MM (Feb 26, 1999)
      8649, // Bringing Out the Dead (Oct 22, 1999)
      7270, // Matchstick Men (Sep 12, 2003)
      157847, // Joe (Apr 11, 2014)
      1738, // Next (Apr 26, 2007)
      1852, // World Trade Center (Aug 9, 2006)
      6963, // The Weather Man (Oct 20, 2005)
      648579, // The Unbearable Weight of Massive Talent (Apr 22, 2022)
    ],
  },
  {
    id: "cytxv",
    theme: "The Menu",
    description: "",
    emoji: "ðŸ§‘â€",
    movieIds: [
      593643, // The Menu (Nov 18, 2022)
      7553, // Waiting... (Oct 7, 2005)
      14817, // Good Burger (Jul 25, 1997)
      11191, // Mystic Pizza (Oct 13, 1988)
      24803, // Julie & Julia (Aug 7, 2009)
      7520, // Cocktail (Jul 29, 1988)
      10758, // Waitress (May 25, 2007)
      212778, // Chef (May 30, 2014)
      18203, // Big Night (Sep 20, 1996)
      2062, // Ratatouille (Jun 29, 2007)
      80767, // Jiro Dreams of Sushi (Mar 9, 2012)
      295964, // Burnt (Oct 30, 2015)
      807196, // Boiling Point (Nov 19, 2021)
      11830, // Tampopo (May 22, 1987)
      3638, // No Reservations (Jul 25, 2007)
      7452, // The Cook, the Thief, His Wife & Her Lover (Apr 6, 1990)
      635731, // Pig (Jul 16, 2021)
    ],
  },
  {
    id: "vc4j4",
    theme: "Hamnet: Writers and Writing",
    description: "",
    emoji: "âœï¸",
    movieIds: [
      858024, // Hamnet (Dec 5, 2025)
      1262, // Stranger Than Fiction (Nov 10, 2006)
      694, // The Shining (Jun 13, 1980)
      290, // Barton Fink (Aug 1, 1991)
      1700, // Misery (Nov 30, 1990)
      711, // Finding Forrester (Jan 12, 2001)
      398, // Capote (Feb 3, 2006)
      590, // The Hours (Dec 27, 2002)
      103332, // Ruby Sparks (Jul 25, 2012)
      11439, // The Ghost Writer (Feb 12, 2010)
      1586, // Secret Window (Mar 12, 2004)
      249688, // The End of the Tour (Jul 31, 2015)
      12280, // The Paper (Mar 18, 1994)
      891, // All the President's Men (Apr 9, 1976)
      294016, // Trumbo (Nov 25, 2015)
      2742, // Naked Lunch (Dec 27, 1991)
      10474, // The Basketball Diaries (Apr 21, 1995)
      2757, // Adaptation. (Dec 6, 2002)
      1934, // Shakespeare in Love (Dec 11, 1998)
    ],
  },
  {
    id: "sv8p5",
    theme: "Marty Supreme: International Competition",
    description: "",
    emoji: "ðŸ“",
    movieIds: [
      1317288, // Marty Supreme (Dec 25, 2025)
      9750, // Balls of Fury (Aug 29, 2007)
      1885, // The Karate Kid (Jun 22, 1984)
      10414, // The Mighty Ducks (Oct 2, 1992)
      9443, // Chariots of Fire (Apr 2, 1982)
      864, // Cool Runnings (Oct 1, 1993)
      16562, // The Cutting Edge (Mar 27, 1992)
      1374, // Rocky IV (Nov 21, 1985)
      9955, // Blades of Glory (Mar 30, 2007)
      14292, // Miracle (Feb 6, 2004)
      116, // Match Point (Nov 2, 2005)
      369192, // Battle of the Sexes (Sep 29, 2017)
      455, // Bend It Like Beckham (Aug 1, 2003)
      22954, // Invictus (Dec 11, 2009)
      319888, // Eddie the Eagle (Feb 26, 2016)
      87492, // Foxcatcher (Jan 16, 2015)
      389015, // I, Tonya (Jan 19, 2018)
      9472, // DodgeBall: A True Underdog Story (Jun 18, 2004)
      13, // Forrest Gump (Jul 6, 1994)
    ],
  },
  {
    id: "qfzwh",
    theme: "Frankenstein: Frankenstein",
    description: "",
    emoji: "ðŸ”©",
    movieIds: [
      1062722, // Frankenstein (Oct 17, 2025)
      3035, // Frankenstein (Nov 21, 1931)
      229, // Bride of Frankenstein (Apr 20, 1935)
      3077, // Son of Frankenstein (Jan 13, 1939)
      3036, // Mary Shelley's Frankenstein (Nov 4, 1994)
      3034, // Young Frankenstein (Dec 15, 1974)
      3073, // Bud Abbott and Lou Costello Meet Frankenstein (Jun 1, 1948)
      228066, // Victor Frankenstein (Nov 25, 2015)
      100241, // I, Frankenstein (Jan 24, 2014)
    ],
  },
  {
    id: "8bh3t",
    theme: "One Battle After Another: Fathers and Daughters",
    description: "",
    emoji: "ðŸ‘¨â€",
    movieIds: [
      1054867, // One Battle After Another (Sep 26, 2025)
      11846, // Father of the Bride (Dec 20, 1991)
      8681, // Taken (Jan 30, 2009)
      12, // Finding Nemo (May 30, 2003)
      11293, // Paper Moon (May 9, 1973)
      101, // LÃ©on: The Professional (Nov 18, 1994)
      10950, // I Am Sam (Jan 25, 2002)
      157336, // Interstellar (Nov 7, 2014)
      95, // Armageddon (Jul 1, 1998)
      65057, // The Descendants (Dec 9, 2011)
      575417, // On the Rocks (Oct 2, 2020)
      785084, // The Whale (Dec 21, 2022)
      87825, // Trouble with the Curve (Sep 21, 2012)
    ],
  },
  {
    id: "26btz",
    theme: "Groundhog Day: Repeat and Repeat",
    description: "",
    emoji: "ðŸ¦«",
    movieIds: [
      137, // Groundhog Day (Feb 11, 1993)
      137113, // Edge of Tomorrow (Jun 6, 2014)
      440021, // Happy Death Day (Oct 13, 2017)
      587792, // Palm Springs (Jul 10, 2020)
      45612, // Source Code (Apr 1, 2011)
      127585, // X-Men: Days of Future Past (May 23, 2014)
      1954, // The Butterfly Effect (Jan 23, 2004)
      104, // Run Lola Run (Jun 18, 1999)
      672647, // The Map of Tiny Perfect Things (Feb 12, 2021)
      14337, // Primer (Oct 8, 2004)
    ],
  },
    {
    id: "wmh3t",
    theme: "Sinners: Fight Your Way Out",
    description: "",
    emoji: "ðŸ§›ðŸ¿",
    movieIds: [
      1091, // The Thing (Jun 25, 1982)
      17814, // Assault on Precinct 13 (Nov 5, 1976)
      11209, // The Alamo (Oct 24, 1960)
      9882, // The Siege (Nov 6, 1998)
      313922, // Green Room (Apr 29, 2016)
      755, // From Dusk Till Dawn (Jan 19, 1996)
      923, // Dawn of the Dead (Apr 13, 1979)
      790, // The Fog (Feb 1, 1980)
      9362, // Tremors (Jan 19, 1990)
      59678, // Attack the Block (Jul 29, 2011)
      1103, // Escape from New York (Jul 10, 1981)
      771, // Home Alone (Nov 16, 1990)
    ],
  },
    {
    id: "kqq89",
    theme: "F1: Trademarked Titles",
    description: "",
    emoji: "â„¢ï¸",
    movieIds: [
      911430, // F1 (Jun 27, 2025)
      44833, // Battleship (May 18, 2012)
      365620, // Ferrari (Dec 25, 2023)
      454458, // UglyDolls (May 3, 2019)
      137106, // The Lego Movie (Feb 7, 2014)
      1858, // Transformers (Jul 3, 2007)
      15196, // Clue (Dec 13, 1985)
      1016084, // BlackBerry (May 12, 2023)
      346698, // Barbie (Jul 21, 2023)
      242512, // Ouija (Oct 24, 2014)
      980489, // Gran Turismo (Aug 25, 2023)
      359724, // Ford v Ferrari (Nov 15, 2019)
      14869, // G.I. Joe: The Rise of Cobra (Aug 7, 2009)
      11849, // Dungeons & Dragons (Dec 8, 2000)
    ],
  },
    {
    id: "4edeq",
    theme: "Train Dreams: Trains!",
    description: "",
    movieIds: [
      1241983, // Train Dreams (Nov 7, 2025)
      44048, // Unstoppable (Nov 12, 2010)
      961, // The General (Jan 15, 1927)
      4176, // Murder on the Orient Express (Nov 24, 1974)
      5255, // The Polar Express (Nov 10, 2004)
      110415, // Snowpiercer (Jun 27, 2014)
      45612, // Source Code (Apr 1, 2011)
      11558, // Silver Streak (Dec 3, 1976)
      11893, // Runaway Train (Dec 6, 1985)
      3512, // Under Siege 2: Dark Territory (Jul 13, 1995)
      11517, // Money Train (Nov 21, 1995)
      396535, // Train to Busan (Jul 22, 2016)
      22784, // Boxcar Bertha (Jun 14, 1972)
      575264, // Mission: Impossible - Dead Reckoning Part One (Jul 12, 2023)
      8333, // The Taking of Pelham One Two Three (Oct 2, 1974)
      213, // North by Northwest (Aug 6, 1959)
    ],
  },
    {
    id: "wfq5e",
    theme: "Sentimental Value: SkarsgÃ¥rd Family Value",
    description: "",
    emoji: "ðŸ‡¸ðŸ‡ª",
    movieIds: [
      1124566, // Sentimental Value (Nov 21, 2025)
      346364, // It (Sep 8, 2017)
      639933, // The Northman (Apr 22, 2022)
      489, // Good Will Hunting (Jan 9, 1998)
      58, // Pirates of the Caribbean: Dead Man's Chest (Jul 7, 2006)
      65754, // The Girl with the Dragon Tattoo (Dec 21, 2011)
      62215, // Melancholia (Nov 11, 2011)
      10195, // Thor (May 6, 2011)
      249397, // Nymphomaniac: Vol. II (Mar 20, 2014)
      913290, // Barbarian (Sep 9, 2022)
      24428, // The Avengers (May 4, 2012)
      16, // Dancer in the Dark (Oct 6, 2000)
      333663, // War on Everyone (Mar 12, 2016)
      553, // Dogville (Apr 23, 2004)
      44833, // Battleship (May 18, 2012)
      11631, // Mamma Mia! (Jul 18, 2008)
      474350, // It Chapter Two (Sep 6, 2019)
    ],
  },
    {
    id: "f6n6a",
    theme: "Bugonia: Girl Bosses",
    description: "",
    emoji: "ðŸ‡¸ðŸ‡ª",
    movieIds: [
      701387, // Bugonia (Oct 31, 2025)
      4566, // Michael Clayton (Oct 12, 2007)
      350, // The Devil Wears Prada (Jun 30, 2006)
      19494, // Nine to Five (Dec 19, 1980)
      3525, // Working Girl (Dec 20, 1988)
      51540, // Horrible Bosses (Jul 8, 2011)
      18240, // The Proposal (Jun 19, 2009)
      71688, // The Iron Lady (Jan 13, 2012)
      257211, // The Intern (Sep 25, 2015)
      446354, // The Post (Jan 12, 2018)
      274479, // Joy (Dec 25, 2015)
      314, // Catwoman (Jul 23, 2004)
      523172, // Late Night (Jun 7, 2019)
      375262, // The Favourite (Dec 21, 2018)
      11215, // Baby Boom (Oct 30, 1987)
      601666, // I Care a Lot (Feb 19, 2021)
      533533, // TRON: Ares (Oct 10, 2025)
    ],
  },
  // Future puzzles will be added here
];

// Get date string in Eastern Time (America/New_York)
function getEasternDateString(date) {
  return date.toLocaleDateString("en-CA", { timeZone: "America/New_York" });
}

// Get a puzzle by its ID
function getPuzzleById(id) {
  return DAILY_PUZZLES.find((p) => p.id === id) || null;
}

// Get the puzzle for a specific date
function getPuzzleForDate(date) {
  // Convert to Eastern Time date string for consistent comparison
  const targetDateStr = getEasternDateString(date);
  const targetDate = new Date(targetDateStr + "T00:00:00");

  // Check if there's a scheduled puzzle for this date
  const dateStr = targetDate.toISOString().split("T")[0];
  if (PUZZLE_SCHEDULE[dateStr]) {
    const scheduled = DAILY_PUZZLES.find(
      (p) => p.id === PUZZLE_SCHEDULE[dateStr],
    );
    if (scheduled) return scheduled;
  }

  // Fall back to filling empty days with unused puzzles
  const scheduledDates = Object.keys(PUZZLE_SCHEDULE).sort();
  if (scheduledDates.length === 0) {
    return DAILY_PUZZLES[0] || null;
  }

  const firstDateStr = scheduledDates[0];
  const firstDate = new Date(firstDateStr + "T00:00:00");

  // If before first puzzle, return null
  if (targetDate < firstDate) {
    return null;
  }

  // Build set of puzzles already used (scheduled for dates <= target date)
  const usedPuzzleIds = new Set();
  for (const [schedDate, puzzleId] of Object.entries(PUZZLE_SCHEDULE)) {
    if (new Date(schedDate + "T00:00:00") <= targetDate) {
      usedPuzzleIds.add(puzzleId);
    }
  }

  // Get puzzles scheduled for future dates (can't use these yet)
  const futureScheduledIds = new Set(
    Object.entries(PUZZLE_SCHEDULE)
      .filter(([schedDate]) => new Date(schedDate + "T00:00:00") > targetDate)
      .map(([, puzzleId]) => puzzleId),
  );

  // Walk through each day from first date to target date to track what gets used on empty days
  const currentDate = new Date(firstDate);
  while (currentDate < targetDate) {
    const currentDateStr = currentDate.toISOString().split("T")[0];
    if (!PUZZLE_SCHEDULE[currentDateStr]) {
      // This was an empty day - find what puzzle it would use
      const availableForThatDay = DAILY_PUZZLES.filter(
        (p) => !usedPuzzleIds.has(p.id) && !futureScheduledIds.has(p.id),
      );
      if (availableForThatDay.length > 0) {
        usedPuzzleIds.add(availableForThatDay[0].id);
      }
    }
    currentDate.setDate(currentDate.getDate() + 1);
  }

  // Now find an unused puzzle for this date (excluding future-scheduled puzzles)
  const availablePuzzles = DAILY_PUZZLES.filter(
    (p) => !usedPuzzleIds.has(p.id) && !futureScheduledIds.has(p.id),
  );

  if (availablePuzzles.length === 0) {
    return null; // No more unique puzzles available
  }

  return availablePuzzles[0];
}

// Get today's puzzle (based on Eastern Time)
function getTodaysPuzzle() {
  return getPuzzleForDate(new Date());
}

// Get puzzle number for a date (1-indexed, uses Eastern Time)
function getPuzzleNumber(date) {
  // Convert to Eastern Time date string for consistent comparison
  const targetDateStr = getEasternDateString(date);
  const targetDate = new Date(targetDateStr + "T00:00:00");

  // Use first scheduled date as the start
  const scheduledDates = Object.keys(PUZZLE_SCHEDULE).sort();
  if (scheduledDates.length === 0) {
    return null;
  }

  const firstDateStr = scheduledDates[0];
  const firstDate = new Date(firstDateStr + "T00:00:00");

  if (targetDate < firstDate) {
    return null;
  }

  const daysSinceFirst = Math.floor(
    (targetDate - firstDate) / (1000 * 60 * 60 * 24),
  );
  return daysSinceFirst + 1;
}

// Get all past puzzles (including today) for the archive
function getArchivePuzzles() {
  // Use Eastern Time for determining "today"
  const todayStr = getEasternDateString(new Date());
  const today = new Date(todayStr + "T00:00:00");

  // Find the earliest date from PUZZLE_SCHEDULE
  const scheduledDates = Object.keys(PUZZLE_SCHEDULE).sort();
  if (scheduledDates.length === 0) {
    return [];
  }

  const firstDateStr = scheduledDates[0];
  const firstDate = new Date(firstDateStr + "T00:00:00");

  // If today is before first puzzle, no archive yet
  if (today < firstDate) {
    return [];
  }

  const archive = [];
  const currentDate = new Date(firstDate);
  let puzzleNum = 1;

  while (currentDate <= today) {
    const dateStr = currentDate.toISOString().split("T")[0];
    const puzzle = getPuzzleForDate(currentDate);

    if (puzzle) {
      archive.push({
        puzzleNumber: puzzleNum,
        date: dateStr,
        puzzle: puzzle,
        isToday: dateStr === todayStr,
      });
    }

    currentDate.setDate(currentDate.getDate() + 1);
    puzzleNum++;
  }

  // Return in reverse chronological order (newest first)
  return archive.reverse();
}
